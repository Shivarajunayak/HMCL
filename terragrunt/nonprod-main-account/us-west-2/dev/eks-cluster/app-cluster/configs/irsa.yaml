roles:
- app_name: customer-preference
  policy:
  - allowed_actions:
    - "dynamodb:DescribeTable"
    - "dynamodb:BatchGetItem"
    - "dynamodb:BatchWriteItem"
    - "dynamodb:PutItem"
    - "dynamodb:ListTables"
    - "dynamodb:DeleteItem"
    - "dynamodb:GetItem"
    - "dynamodb:Query"
    - "dynamodb:UpdateItem"
    - "dynamodb:ListStreams"
    - "dynamodb:UpdateTable"
    - "dynamodb:GetRecords"
    - "iot:ListThingsInThingGroup"
    - "iotfleetwise:GetDecoderManifest"
    - "iotfleetwise:ListFleets"
    - "iotfleetwise:GetFleet"
    - "iotfleetwise:GetVehicle"
    - "iotfleetwise:ListSignalCatalogNodes"
    - "iotfleetwise:GetRegisterAccountStatus"
    - "iotjobsdata:GetPendingJobExecutions"
    - "iotfleetwise:ListVehicles"
    - "iotjobsdata:StartNextPendingJobExecution"
    - "iotjobsdata:DescribeJobExecution"
    - "iotfleetwise:GetModelManifest"
    - "iotfleetwise:ListCampaigns"
    - "iotfleetwise:ListFleetsForVehicle"
    - "iotfleetwise:ListDecoderManifestNetworkInterfaces"
    - "iotfleetwise:GetCampaign"
    - "iotfleetwise:GetEncryptionConfiguration"
    - "iotfleetwise:ListTagsForResource"
    - "iotfleetwise:ListModelManifests"
    - "iotfleetwise:ListDecoderManifestSignals"
    - "iotfleetwise:ListModelManifestNodes"
    - "iotfleetwise:GetVehicleStatus"
    - "iotfleetwise:ListSignalCatalogs"
    - "iotfleetwise:GetSignalCatalog"
    - "iotfleetwise:ListVehiclesInFleet"
    - "iotfleetwise:GetLoggingOptions"
    - "iotfleetwise:ListDecoderManifests"
    - "kms:Encrypt"
    - "kms:Decrypt"
    - "kms:GenerateDataKey"
    - "kms:CreateGrant"
    - "secretsmanager:GetSecretValue"
    resources:
    - "*"
  - allowed_actions:
    - "iotjobsdata:StartCommandExecution"
    resources:
    - "arn:aws:iot:*:905418263290:thing/*"
    - "arn:aws:iot:*:905418263290:thinggroup/*"
    - "arn:aws:iot:*:905418263290:command/*" 
    
- app_name: command-and-control
  policy:
  - allowed_actions:
    - "dynamodb:DescribeTable"
    - "dynamodb:BatchGetItem"
    - "dynamodb:BatchWriteItem"
    - "dynamodb:PutItem"
    - "dynamodb:ListTables"
    - "dynamodb:DeleteItem"
    - "dynamodb:GetItem"
    - "dynamodb:Query"
    - "dynamodb:UpdateItem"
    - "dynamodb:ListStreams"
    - "dynamodb:UpdateTable"
    - "dynamodb:GetRecords"
    - "iot:ListThingsInThingGroup"
    - "iotfleetwise:GetDecoderManifest"
    - "iotfleetwise:ListFleets"
    - "iotfleetwise:GetFleet"
    - "iotfleetwise:GetVehicle"
    - "iotfleetwise:ListSignalCatalogNodes"
    - "iotfleetwise:GetRegisterAccountStatus"
    - "iotjobsdata:GetPendingJobExecutions"
    - "iotfleetwise:ListVehicles"
    - "iotjobsdata:StartNextPendingJobExecution"
    - "iotjobsdata:DescribeJobExecution"
    - "iotfleetwise:GetModelManifest"
    - "iotfleetwise:ListCampaigns"
    - "iotfleetwise:ListFleetsForVehicle"
    - "iotfleetwise:ListDecoderManifestNetworkInterfaces"
    - "iotfleetwise:GetCampaign"
    - "iotfleetwise:GetEncryptionConfiguration"
    - "iotfleetwise:ListTagsForResource"
    - "iotfleetwise:ListModelManifests"
    - "iotfleetwise:ListDecoderManifestSignals"
    - "iotfleetwise:ListModelManifestNodes"
    - "iotfleetwise:GetVehicleStatus"
    - "iotfleetwise:ListSignalCatalogs"
    - "iotfleetwise:GetSignalCatalog"
    - "iotfleetwise:ListVehiclesInFleet"
    - "iotfleetwise:GetLoggingOptions"
    - "iotfleetwise:ListDecoderManifests"
    - "kms:Encrypt"
    - "kms:Decrypt"
    - "kms:GenerateDataKey"
    - "kms:CreateGrant"
    - "secretsmanager:GetSecretValue"
    resources:
    - "*"
  - allowed_actions:
    - "iotjobsdata:StartCommandExecution"
    resources: 
    - "arn:aws:iot:*:905418263290:thing/*"
    - "arn:aws:iot:*:905418263290:thinggroup/*"
    - "arn:aws:iot:*:905418263290:command/*"
    
- app_name: notification-service
  policy:
  - allowed_actions:
    - "dynamodb:DescribeTable"
    - "dynamodb:BatchGetItem"
    - "dynamodb:BatchWriteItem"
    - "dynamodb:PutItem"
    - "dynamodb:ListTables"
    - "dynamodb:DeleteItem"
    - "dynamodb:GetItem"
    - "dynamodb:Query"
    - "dynamodb:UpdateItem"
    - "dynamodb:ListStreams"
    - "dynamodb:UpdateTable"
    - "dynamodb:GetRecords"
    - "iot:ListThingsInThingGroup"
    - "iotfleetwise:GetDecoderManifest"
    - "iotfleetwise:ListFleets"
    - "iotfleetwise:GetFleet"
    - "iotfleetwise:GetVehicle"
    - "iotfleetwise:ListSignalCatalogNodes"
    - "iotfleetwise:GetRegisterAccountStatus"
    - "iotjobsdata:GetPendingJobExecutions"
    - "iotfleetwise:ListVehicles"
    - "iotjobsdata:StartNextPendingJobExecution"
    - "iotjobsdata:DescribeJobExecution"
    - "iotfleetwise:GetModelManifest"
    - "iotfleetwise:ListCampaigns"
    - "iotfleetwise:ListFleetsForVehicle"
    - "iotfleetwise:ListDecoderManifestNetworkInterfaces"
    - "iotfleetwise:GetCampaign"
    - "iotfleetwise:GetEncryptionConfiguration"
    - "iotfleetwise:ListTagsForResource"
    - "iotfleetwise:ListModelManifests"
    - "iotfleetwise:ListDecoderManifestSignals"
    - "iotfleetwise:ListModelManifestNodes"
    - "iotfleetwise:GetVehicleStatus"
    - "iotfleetwise:ListSignalCatalogs"
    - "iotfleetwise:GetSignalCatalog"
    - "iotfleetwise:ListVehiclesInFleet"
    - "iotfleetwise:GetLoggingOptions"
    - "iotfleetwise:ListDecoderManifests"
    - "kms:Encrypt"
    - "kms:Decrypt"
    - "kms:GenerateDataKey"
    - "kms:CreateGrant"
    - "secretsmanager:GetSecretValue"
    resources:
    - "*"
  - allowed_actions:
    - "iotjobsdata:StartCommandExecution"
    resources:
    - "arn:aws:iot:*:905418263290:thing/*"
    - "arn:aws:iot:*:905418263290:thinggroup/*"
    - "arn:aws:iot:*:905418263290:command/*"

#new

- app_name: user-management
  policy:
  - allowed_actions:
    - "dynamodb:DescribeTable"
    - "dynamodb:BatchGetItem"
    - "dynamodb:BatchWriteItem"
    - "dynamodb:PutItem"
    - "dynamodb:ListTables"
    - "dynamodb:DeleteItem"
    - "dynamodb:GetItem"
    - "dynamodb:Query"
    - "dynamodb:UpdateItem"
    - "dynamodb:ListStreams"
    - "dynamodb:UpdateTable"
    - "dynamodb:GetRecords"
    - "iot:ListThingsInThingGroup"
    - "iotfleetwise:GetDecoderManifest"
    - "iotfleetwise:ListFleets"
    - "iotfleetwise:GetFleet"
    - "iotfleetwise:GetVehicle"
    - "iotfleetwise:ListSignalCatalogNodes"
    - "iotfleetwise:GetRegisterAccountStatus"
    - "iotjobsdata:GetPendingJobExecutions"
    - "iotfleetwise:ListVehicles"
    - "iotjobsdata:StartNextPendingJobExecution"
    - "iotjobsdata:DescribeJobExecution"
    - "iotfleetwise:GetModelManifest"
    - "iotfleetwise:ListCampaigns"
    - "iotfleetwise:ListFleetsForVehicle"
    - "iotfleetwise:ListDecoderManifestNetworkInterfaces"
    - "iotfleetwise:GetCampaign"
    - "iotfleetwise:GetEncryptionConfiguration"
    - "iotfleetwise:ListTagsForResource"
    - "iotfleetwise:ListModelManifests"
    - "iotfleetwise:ListDecoderManifestSignals"
    - "iotfleetwise:ListModelManifestNodes"
    - "iotfleetwise:GetVehicleStatus"
    - "iotfleetwise:ListSignalCatalogs"
    - "iotfleetwise:GetSignalCatalog"
    - "iotfleetwise:ListVehiclesInFleet"
    - "iotfleetwise:GetLoggingOptions"
    - "iotfleetwise:ListDecoderManifests"
    - "kms:Encrypt"
    - "kms:Decrypt"
    - "kms:GenerateDataKey"
    - "kms:CreateGrant"
    - "secretsmanager:GetSecretValue"
    resources:
    - "*"
  - allowed_actions:
    - "iotjobsdata:StartCommandExecution"
    resources:
    - "arn:aws:iot:*:905418263290:thing/*"
    - "arn:aws:iot:*:905418263290:thinggroup/*"
    - "arn:aws:iot:*:905418263290:command/*"

- app_name: notification
  policy:
  - allowed_actions:
    - "dynamodb:DescribeTable"
    - "dynamodb:BatchGetItem"
    - "dynamodb:BatchWriteItem"
    - "dynamodb:PutItem"
    - "dynamodb:ListTables"
    - "dynamodb:DeleteItem"
    - "dynamodb:GetItem"
    - "dynamodb:Query"
    - "dynamodb:UpdateItem"
    - "dynamodb:ListStreams"
    - "dynamodb:UpdateTable"
    - "dynamodb:GetRecords"
    - "iot:ListThingsInThingGroup"
    - "iotfleetwise:GetDecoderManifest"
    - "iotfleetwise:ListFleets"
    - "iotfleetwise:GetFleet"
    - "iotfleetwise:GetVehicle"
    - "iotfleetwise:ListSignalCatalogNodes"
    - "iotfleetwise:GetRegisterAccountStatus"
    - "iotjobsdata:GetPendingJobExecutions"
    - "iotfleetwise:ListVehicles"
    - "iotjobsdata:StartNextPendingJobExecution"
    - "iotjobsdata:DescribeJobExecution"
    - "iotfleetwise:GetModelManifest"
    - "iotfleetwise:ListCampaigns"
    - "iotfleetwise:ListFleetsForVehicle"
    - "iotfleetwise:ListDecoderManifestNetworkInterfaces"
    - "iotfleetwise:GetCampaign"
    - "iotfleetwise:GetEncryptionConfiguration"
    - "iotfleetwise:ListTagsForResource"
    - "iotfleetwise:ListModelManifests"
    - "iotfleetwise:ListDecoderManifestSignals"
    - "iotfleetwise:ListModelManifestNodes"
    - "iotfleetwise:GetVehicleStatus"
    - "iotfleetwise:ListSignalCatalogs"
    - "iotfleetwise:GetSignalCatalog"
    - "iotfleetwise:ListVehiclesInFleet"
    - "iotfleetwise:GetLoggingOptions"
    - "iotfleetwise:ListDecoderManifests"
    - "kms:Encrypt"
    - "kms:Decrypt"
    - "kms:GenerateDataKey"
    - "kms:CreateGrant"
    - "secretsmanager:GetSecretValue"
    resources:
    - "*"
  - allowed_actions:
    - "iotjobsdata:StartCommandExecution"
    resources:
    - "arn:aws:iot:*:905418263290:thing/*"
    - "arn:aws:iot:*:905418263290:thinggroup/*"
    - "arn:aws:iot:*:905418263290:command/*"

- app_name: vehicle-management
  policy:
  - allowed_actions:
    - "dynamodb:DescribeTable"
    - "dynamodb:BatchGetItem"
    - "dynamodb:BatchWriteItem"
    - "dynamodb:PutItem"
    - "dynamodb:ListTables"
    - "dynamodb:DeleteItem"
    - "dynamodb:GetItem"
    - "dynamodb:Query"
    - "dynamodb:UpdateItem"
    - "dynamodb:ListStreams"
    - "dynamodb:UpdateTable"
    - "dynamodb:GetRecords"
    - "iot:ListThingsInThingGroup"
    - "iotfleetwise:GetDecoderManifest"
    - "iotfleetwise:ListFleets"
    - "iotfleetwise:GetFleet"
    - "iotfleetwise:GetVehicle"
    - "iotfleetwise:ListSignalCatalogNodes"
    - "iotfleetwise:GetRegisterAccountStatus"
    - "iotjobsdata:GetPendingJobExecutions"
    - "iotfleetwise:ListVehicles"
    - "iotjobsdata:StartNextPendingJobExecution"
    - "iotjobsdata:DescribeJobExecution"
    - "iotfleetwise:GetModelManifest"
    - "iotfleetwise:ListCampaigns"
    - "iotfleetwise:ListFleetsForVehicle"
    - "iotfleetwise:ListDecoderManifestNetworkInterfaces"
    - "iotfleetwise:GetCampaign"
    - "iotfleetwise:GetEncryptionConfiguration"
    - "iotfleetwise:ListTagsForResource"
    - "iotfleetwise:ListModelManifests"
    - "iotfleetwise:ListDecoderManifestSignals"
    - "iotfleetwise:ListModelManifestNodes"
    - "iotfleetwise:GetVehicleStatus"
    - "iotfleetwise:ListSignalCatalogs"
    - "iotfleetwise:GetSignalCatalog"
    - "iotfleetwise:ListVehiclesInFleet"
    - "iotfleetwise:GetLoggingOptions"
    - "iotfleetwise:ListDecoderManifests"
    - "kms:Encrypt"
    - "kms:Decrypt"
    - "kms:GenerateDataKey"
    - "kms:CreateGrant"
    - "secretsmanager:GetSecretValue"
    resources:
    - "*"
  - allowed_actions:
    - "iotjobsdata:StartCommandExecution"
    resources:
    - "arn:aws:iot:*:905418263290:thing/*"
    - "arn:aws:iot:*:905418263290:thinggroup/*"
    - "arn:aws:iot:*:905418263290:command/*"

- app_name: vehicle-provisioning
  policy:
  - allowed_actions:
    - "dynamodb:DescribeTable"
    - "dynamodb:BatchGetItem"
    - "dynamodb:BatchWriteItem"
    - "dynamodb:PutItem"
    - "dynamodb:ListTables"
    - "dynamodb:DeleteItem"
    - "dynamodb:GetItem"
    - "dynamodb:Query"
    - "dynamodb:UpdateItem"
    - "dynamodb:ListStreams"
    - "dynamodb:UpdateTable"
    - "dynamodb:GetRecords"
    - "iot:ListThingsInThingGroup"
    - "iotfleetwise:GetDecoderManifest"
    - "iotfleetwise:ListFleets"
    - "iotfleetwise:GetFleet"
    - "iotfleetwise:GetVehicle"
    - "iotfleetwise:ListSignalCatalogNodes"
    - "iotfleetwise:GetRegisterAccountStatus"
    - "iotjobsdata:GetPendingJobExecutions"
    - "iotfleetwise:ListVehicles"
    - "iotjobsdata:StartNextPendingJobExecution"
    - "iotjobsdata:DescribeJobExecution"
    - "iotfleetwise:GetModelManifest"
    - "iotfleetwise:ListCampaigns"
    - "iotfleetwise:ListFleetsForVehicle"
    - "iotfleetwise:ListDecoderManifestNetworkInterfaces"
    - "iotfleetwise:GetCampaign"
    - "iotfleetwise:GetEncryptionConfiguration"
    - "iotfleetwise:ListTagsForResource"
    - "iotfleetwise:ListModelManifests"
    - "iotfleetwise:ListDecoderManifestSignals"
    - "iotfleetwise:ListModelManifestNodes"
    - "iotfleetwise:GetVehicleStatus"
    - "iotfleetwise:ListSignalCatalogs"
    - "iotfleetwise:GetSignalCatalog"
    - "iotfleetwise:ListVehiclesInFleet"
    - "iotfleetwise:GetLoggingOptions"
    - "iotfleetwise:ListDecoderManifests"
    - "kms:Encrypt"
    - "kms:Decrypt"
    - "kms:GenerateDataKey"
    - "kms:CreateGrant"
    - "secretsmanager:GetSecretValue"
    resources:
    - "*"
  - allowed_actions:
    - "iotjobsdata:StartCommandExecution"
    resources:
    - "arn:aws:iot:*:905418263290:thing/*"
    - "arn:aws:iot:*:905418263290:thinggroup/*"
    - "arn:aws:iot:*:905418263290:command/*"

- app_name: vehicle-reports
  policy:
  - allowed_actions:
    - "dynamodb:DescribeTable"
    - "dynamodb:BatchGetItem"
    - "dynamodb:BatchWriteItem"
    - "dynamodb:PutItem"
    - "dynamodb:ListTables"
    - "dynamodb:DeleteItem"
    - "dynamodb:GetItem"
    - "dynamodb:Query"
    - "dynamodb:UpdateItem"
    - "dynamodb:ListStreams"
    - "dynamodb:UpdateTable"
    - "dynamodb:GetRecords"
    - "iot:ListThingsInThingGroup"
    - "iotfleetwise:GetDecoderManifest"
    - "iotfleetwise:ListFleets"
    - "iotfleetwise:GetFleet"
    - "iotfleetwise:GetVehicle"
    - "iotfleetwise:ListSignalCatalogNodes"
    - "iotfleetwise:GetRegisterAccountStatus"
    - "iotjobsdata:GetPendingJobExecutions"
    - "iotfleetwise:ListVehicles"
    - "iotjobsdata:StartNextPendingJobExecution"
    - "iotjobsdata:DescribeJobExecution"
    - "iotfleetwise:GetModelManifest"
    - "iotfleetwise:ListCampaigns"
    - "iotfleetwise:ListFleetsForVehicle"
    - "iotfleetwise:ListDecoderManifestNetworkInterfaces"
    - "iotfleetwise:GetCampaign"
    - "iotfleetwise:GetEncryptionConfiguration"
    - "iotfleetwise:ListTagsForResource"
    - "iotfleetwise:ListModelManifests"
    - "iotfleetwise:ListDecoderManifestSignals"
    - "iotfleetwise:ListModelManifestNodes"
    - "iotfleetwise:GetVehicleStatus"
    - "iotfleetwise:ListSignalCatalogs"
    - "iotfleetwise:GetSignalCatalog"
    - "iotfleetwise:ListVehiclesInFleet"
    - "iotfleetwise:GetLoggingOptions"
    - "iotfleetwise:ListDecoderManifests"
    - "kms:Encrypt"
    - "kms:Decrypt"
    - "kms:GenerateDataKey"
    - "kms:CreateGrant"
    - "secretsmanager:GetSecretValue"
    resources:
    - "*"
  - allowed_actions:
    - "iotjobsdata:StartCommandExecution"
    resources:
    - "arn:aws:iot:*:905418263290:thing/*"
    - "arn:aws:iot:*:905418263290:thinggroup/*"
    - "arn:aws:iot:*:905418263290:command/*"

- app_name: location
  policy:
  - allowed_actions:
    - "dynamodb:DescribeTable"
    - "dynamodb:BatchGetItem"
    - "dynamodb:BatchWriteItem"
    - "dynamodb:PutItem"
    - "dynamodb:ListTables"
    - "dynamodb:DeleteItem"
    - "dynamodb:GetItem"
    - "dynamodb:Query"
    - "dynamodb:UpdateItem"
    - "dynamodb:ListStreams"
    - "dynamodb:UpdateTable"
    - "dynamodb:GetRecords"
    - "iot:ListThingsInThingGroup"
    - "iotfleetwise:GetDecoderManifest"
    - "iotfleetwise:ListFleets"
    - "iotfleetwise:GetFleet"
    - "iotfleetwise:GetVehicle"
    - "iotfleetwise:ListSignalCatalogNodes"
    - "iotfleetwise:GetRegisterAccountStatus"
    - "iotjobsdata:GetPendingJobExecutions"
    - "iotfleetwise:ListVehicles"
    - "iotjobsdata:StartNextPendingJobExecution"
    - "iotjobsdata:DescribeJobExecution"
    - "iotfleetwise:GetModelManifest"
    - "iotfleetwise:ListCampaigns"
    - "iotfleetwise:ListFleetsForVehicle"
    - "iotfleetwise:ListDecoderManifestNetworkInterfaces"
    - "iotfleetwise:GetCampaign"
    - "iotfleetwise:GetEncryptionConfiguration"
    - "iotfleetwise:ListTagsForResource"
    - "iotfleetwise:ListModelManifests"
    - "iotfleetwise:ListDecoderManifestSignals"
    - "iotfleetwise:ListModelManifestNodes"
    - "iotfleetwise:GetVehicleStatus"
    - "iotfleetwise:ListSignalCatalogs"
    - "iotfleetwise:GetSignalCatalog"
    - "iotfleetwise:ListVehiclesInFleet"
    - "iotfleetwise:GetLoggingOptions"
    - "iotfleetwise:ListDecoderManifests"
    - "kms:Encrypt"
    - "kms:Decrypt"
    - "kms:GenerateDataKey"
    - "kms:CreateGrant"
    - "secretsmanager:GetSecretValue"
    resources:
    - "*"
  - allowed_actions:
    - "iotjobsdata:StartCommandExecution"
    resources:
    - "arn:aws:iot:*:905418263290:thing/*"
    - "arn:aws:iot:*:905418263290:thinggroup/*"
    - "arn:aws:iot:*:905418263290:command/*"

- app_name: analytics
  policy:
  - allowed_actions:
    - "dynamodb:DescribeTable"
    - "dynamodb:BatchGetItem"
    - "dynamodb:BatchWriteItem"
    - "dynamodb:PutItem"
    - "dynamodb:ListTables"
    - "dynamodb:DeleteItem"
    - "dynamodb:GetItem"
    - "dynamodb:Query"
    - "dynamodb:UpdateItem"
    - "dynamodb:ListStreams"
    - "dynamodb:UpdateTable"
    - "dynamodb:GetRecords"
    - "iot:ListThingsInThingGroup"
    - "iotfleetwise:GetDecoderManifest"
    - "iotfleetwise:ListFleets"
    - "iotfleetwise:GetFleet"
    - "iotfleetwise:GetVehicle"
    - "iotfleetwise:ListSignalCatalogNodes"
    - "iotfleetwise:GetRegisterAccountStatus"
    - "iotjobsdata:GetPendingJobExecutions"
    - "iotfleetwise:ListVehicles"
    - "iotjobsdata:StartNextPendingJobExecution"
    - "iotjobsdata:DescribeJobExecution"
    - "iotfleetwise:GetModelManifest"
    - "iotfleetwise:ListCampaigns"
    - "iotfleetwise:ListFleetsForVehicle"
    - "iotfleetwise:ListDecoderManifestNetworkInterfaces"
    - "iotfleetwise:GetCampaign"
    - "iotfleetwise:GetEncryptionConfiguration"
    - "iotfleetwise:ListTagsForResource"
    - "iotfleetwise:ListModelManifests"
    - "iotfleetwise:ListDecoderManifestSignals"
    - "iotfleetwise:ListModelManifestNodes"
    - "iotfleetwise:GetVehicleStatus"
    - "iotfleetwise:ListSignalCatalogs"
    - "iotfleetwise:GetSignalCatalog"
    - "iotfleetwise:ListVehiclesInFleet"
    - "iotfleetwise:GetLoggingOptions"
    - "iotfleetwise:ListDecoderManifests"
    - "kms:Encrypt"
    - "kms:Decrypt"
    - "kms:GenerateDataKey"
    - "kms:CreateGrant"
    - "secretsmanager:GetSecretValue"
    resources:
    - "*"
  - allowed_actions:
    - "iotjobsdata:StartCommandExecution"
    resources:
    - "arn:aws:iot:*:905418263290:thing/*"
    - "arn:aws:iot:*:905418263290:thinggroup/*"
    - "arn:aws:iot:*:905418263290:command/*"

- app_name: auth-management
  policy:
  - allowed_actions:
    - "dynamodb:DescribeTable"
    - "dynamodb:BatchGetItem"
    - "dynamodb:BatchWriteItem"
    - "dynamodb:PutItem"
    - "dynamodb:ListTables"
    - "dynamodb:DeleteItem"
    - "dynamodb:GetItem"
    - "dynamodb:Query"
    - "dynamodb:UpdateItem"
    - "dynamodb:ListStreams"
    - "dynamodb:UpdateTable"
    - "dynamodb:GetRecords"
    - "iot:ListThingsInThingGroup"
    - "iotfleetwise:GetDecoderManifest"
    - "iotfleetwise:ListFleets"
    - "iotfleetwise:GetFleet"
    - "iotfleetwise:GetVehicle"
    - "iotfleetwise:ListSignalCatalogNodes"
    - "iotfleetwise:GetRegisterAccountStatus"
    - "iotjobsdata:GetPendingJobExecutions"
    - "iotfleetwise:ListVehicles"
    - "iotjobsdata:StartNextPendingJobExecution"
    - "iotjobsdata:DescribeJobExecution"
    - "iotfleetwise:GetModelManifest"
    - "iotfleetwise:ListCampaigns"
    - "iotfleetwise:ListFleetsForVehicle"
    - "iotfleetwise:ListDecoderManifestNetworkInterfaces"
    - "iotfleetwise:GetCampaign"
    - "iotfleetwise:GetEncryptionConfiguration"
    - "iotfleetwise:ListTagsForResource"
    - "iotfleetwise:ListModelManifests"
    - "iotfleetwise:ListDecoderManifestSignals"
    - "iotfleetwise:ListModelManifestNodes"
    - "iotfleetwise:GetVehicleStatus"
    - "iotfleetwise:ListSignalCatalogs"
    - "iotfleetwise:GetSignalCatalog"
    - "iotfleetwise:ListVehiclesInFleet"
    - "iotfleetwise:GetLoggingOptions"
    - "iotfleetwise:ListDecoderManifests"
    - "kms:Encrypt"
    - "kms:Decrypt"
    - "kms:GenerateDataKey"
    - "kms:CreateGrant"
    - "secretsmanager:GetSecretValue"
    resources:
    - "*"
  - allowed_actions:
    - "iotjobsdata:StartCommandExecution"
    resources:
    - "arn:aws:iot:*:905418263290:thing/*"
    - "arn:aws:iot:*:905418263290:thinggroup/*"
    - "arn:aws:iot:*:905418263290:command/*"

- app_name: fleet-management
  policy:
  - allowed_actions:
    - "dynamodb:DescribeTable"
    - "dynamodb:BatchGetItem"
    - "dynamodb:BatchWriteItem"
    - "dynamodb:PutItem"
    - "dynamodb:ListTables"
    - "dynamodb:DeleteItem"
    - "dynamodb:GetItem"
    - "dynamodb:Query"
    - "dynamodb:UpdateItem"
    - "dynamodb:ListStreams"
    - "dynamodb:UpdateTable"
    - "dynamodb:GetRecords"
    - "iot:ListThingsInThingGroup"
    - "iotfleetwise:GetDecoderManifest"
    - "iotfleetwise:ListFleets"
    - "iotfleetwise:GetFleet"
    - "iotfleetwise:GetVehicle"
    - "iotfleetwise:ListSignalCatalogNodes"
    - "iotfleetwise:GetRegisterAccountStatus"
    - "iotjobsdata:GetPendingJobExecutions"
    - "iotfleetwise:ListVehicles"
    - "iotjobsdata:StartNextPendingJobExecution"
    - "iotjobsdata:DescribeJobExecution"
    - "iotfleetwise:GetModelManifest"
    - "iotfleetwise:ListCampaigns"
    - "iotfleetwise:ListFleetsForVehicle"
    - "iotfleetwise:ListDecoderManifestNetworkInterfaces"
    - "iotfleetwise:GetCampaign"
    - "iotfleetwise:GetEncryptionConfiguration"
    - "iotfleetwise:ListTagsForResource"
    - "iotfleetwise:ListModelManifests"
    - "iotfleetwise:ListDecoderManifestSignals"
    - "iotfleetwise:ListModelManifestNodes"
    - "iotfleetwise:GetVehicleStatus"
    - "iotfleetwise:ListSignalCatalogs"
    - "iotfleetwise:GetSignalCatalog"
    - "iotfleetwise:ListVehiclesInFleet"
    - "iotfleetwise:GetLoggingOptions"
    - "iotfleetwise:ListDecoderManifests"
    - "kms:Encrypt"
    - "kms:Decrypt"
    - "kms:GenerateDataKey"
    - "kms:CreateGrant"
    - "secretsmanager:GetSecretValue"
    resources:
    - "*"
  - allowed_actions:
    - "iotjobsdata:StartCommandExecution"
    resources:
    - "arn:aws:iot:*:905418263290:thing/*"
    - "arn:aws:iot:*:905418263290:thinggroup/*"
    - "arn:aws:iot:*:905418263290:command/*"

- app_name: fleet
  policy:
  - allowed_actions:
    - "dynamodb:DescribeTable"
    - "dynamodb:BatchGetItem"
    - "dynamodb:BatchWriteItem"
    - "dynamodb:PutItem"
    - "dynamodb:ListTables"
    - "dynamodb:DeleteItem"
    - "dynamodb:GetItem"
    - "dynamodb:Query"
    - "dynamodb:UpdateItem"
    - "dynamodb:ListStreams"
    - "dynamodb:UpdateTable"
    - "dynamodb:GetRecords"
    - "iot:ListThingsInThingGroup"
    - "iotfleetwise:GetDecoderManifest"
    - "iotfleetwise:ListFleets"
    - "iotfleetwise:GetFleet"
    - "iotfleetwise:GetVehicle"
    - "iotfleetwise:ListSignalCatalogNodes"
    - "iotfleetwise:GetRegisterAccountStatus"
    - "iotjobsdata:GetPendingJobExecutions"
    - "iotfleetwise:ListVehicles"
    - "iotjobsdata:StartNextPendingJobExecution"
    - "iotjobsdata:DescribeJobExecution"
    - "iotfleetwise:GetModelManifest"
    - "iotfleetwise:ListCampaigns"
    - "iotfleetwise:ListFleetsForVehicle"
    - "iotfleetwise:ListDecoderManifestNetworkInterfaces"
    - "iotfleetwise:GetCampaign"
    - "iotfleetwise:GetEncryptionConfiguration"
    - "iotfleetwise:ListTagsForResource"
    - "iotfleetwise:ListModelManifests"
    - "iotfleetwise:ListDecoderManifestSignals"
    - "iotfleetwise:ListModelManifestNodes"
    - "iotfleetwise:GetVehicleStatus"
    - "iotfleetwise:ListSignalCatalogs"
    - "iotfleetwise:GetSignalCatalog"
    - "iotfleetwise:ListVehiclesInFleet"
    - "iotfleetwise:GetLoggingOptions"
    - "iotfleetwise:ListDecoderManifests"
    - "kms:Encrypt"
    - "kms:Decrypt"
    - "kms:GenerateDataKey"
    - "kms:CreateGrant"
    - "secretsmanager:GetSecretValue"
    resources:
    - "*"
  - allowed_actions:
    - "iotjobsdata:StartCommandExecution"
    resources:
    - "arn:aws:iot:*:905418263290:thing/*"
    - "arn:aws:iot:*:905418263290:thinggroup/*"
    - "arn:aws:iot:*:905418263290:command/*"

